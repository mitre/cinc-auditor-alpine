{"id":"cinc-auditor-alpine-26s","title":"Add test verification step to release workflow","description":"Enhance release workflow to verify all tests passed before building and pushing images.\n\nIMPLEMENTATION:\nAdd verify-tests job that:\n1. Checks for required workflow runs on current SHA\n2. Verifies lint passed\n3. Verifies build-and-test (v6) passed\n4. Verifies build-and-test (v7) passed\n5. Fails release if any required check failed\n\nMAKES RELEASE JOB DEPEND ON VERIFY-TESTS:\n```yaml\njobs:\n  verify-tests:\n    # check logic here\n  \n  release:\n    needs: verify-tests\n    # existing release job\n```\n\nPREVENTS:\n- Releasing code that didn't pass tests\n- Manual workflow_dispatch bypassing CI checks\n- Broken images being published\n\nFILES:\n- .github/workflows/release.yml","acceptance_criteria":"- verify-tests job added to release.yml\n- Job checks all required status checks\n- Release job depends on verify-tests\n- Workflow fails if tests didn't pass\n- Manual workflow_dispatch also protected\n- Tested and verified working","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2026-01-03T17:53:27.392565-05:00","created_by":"alippold","updated_at":"2026-01-03T17:53:27.392565-05:00"}
{"id":"cinc-auditor-alpine-5wp","title":"Verify v1.0.0 Docker Hub artifacts and test images","description":"Verify all v1.0.0 images are published correctly to Docker Hub with proper tags and architectures.\n\nVERIFICATION CHECKLIST:\n1. Visit https://hub.docker.com/r/mitre/cinc-auditor-alpine/tags\n2. Verify tags exist:\n   - v1.0.0\n   - latest\n   - 6, 6.8\n   - 7, 7.0\n3. Check each tag shows multi-arch (amd64 + arm64)\n4. Test image pull works\n5. Test image runs correctly\n\nTEST COMMANDS:\ndocker pull mitre/cinc-auditor-alpine:v1.0.0\ndocker pull mitre/cinc-auditor-alpine:latest\ndocker run --rm mitre/cinc-auditor-alpine:v1.0.0 cinc-auditor version\ndocker run --rm mitre/cinc-auditor-alpine:v1.0.0 kubectl version --client\n\nDEPENDS ON:\n- GitHub release created (cinc-auditor-alpine-6ch)\n\nFILES:\n- Docker Hub repository","acceptance_criteria":"- All expected tags visible on Docker Hub\n- Each tag shows linux/amd64 and linux/arm64\n- docker pull succeeds for v1.0.0 and latest\n- Container runs and shows correct versions\n- No errors in image execution","status":"closed","priority":0,"issue_type":"task","estimated_minutes":20,"created_at":"2026-01-03T17:52:44.449591-05:00","created_by":"alippold","updated_at":"2026-01-03T19:00:53.37967-05:00","closed_at":"2026-01-03T19:00:53.37967-05:00","close_reason":"Abandoned v1.0.0 container versioning - using upstream CINC versions as tags instead (industry standard)","dependencies":[{"issue_id":"cinc-auditor-alpine-5wp","depends_on_id":"cinc-auditor-alpine-6ch","type":"blocks","created_at":"2026-01-03T17:53:55.598541-05:00","created_by":"daemon"}]}
{"id":"cinc-auditor-alpine-6ch","title":"Create GitHub v1.0.0 release with release notes","description":"Create official GitHub release for v1.0.0 after Docker Hub workflow succeeds.\n\nDEPENDS ON:\n- Docker Hub token fix (cinc-auditor-alpine-eii)\n- Successful workflow run with images pushed\n\nTASKS:\n1. Create release notes file highlighting features\n2. Use gh CLI to create release from v1.0.0 tag\n3. Verify release appears on GitHub\n4. Verify release triggers release workflow\n\nRELEASE NOTES CONTENT:\n- First stable release\n- CINC Auditor v6 \u0026 v7 support\n- train-k8s-container v2.2.0\n- kubectl 1.31.4\n- Multi-arch (amd64, arm64)\n- Docker Build Cloud integration\n\nFILES:\n- /tmp/release-notes.md (temporary)\n- GitHub release v1.0.0","acceptance_criteria":"- Release notes file created with features list\n- GitHub release v1.0.0 created with notes\n- Release visible at github.com/mitre/cinc-auditor-alpine/releases\n- Docker Hub images verified with all tags","status":"closed","priority":0,"issue_type":"task","estimated_minutes":15,"created_at":"2026-01-03T17:52:33.181792-05:00","created_by":"alippold","updated_at":"2026-01-03T19:00:53.377906-05:00","closed_at":"2026-01-03T19:00:53.377906-05:00","close_reason":"Abandoned v1.0.0 container versioning - using upstream CINC versions as tags instead (industry standard)","dependencies":[{"issue_id":"cinc-auditor-alpine-6ch","depends_on_id":"cinc-auditor-alpine-eii","type":"blocks","created_at":"2026-01-03T17:53:55.536819-05:00","created_by":"daemon"}]}
{"id":"cinc-auditor-alpine-8zb","title":"RECOVERY: Docker Build Cloud v1.0.0 Release Session","description":"Context from 2026-01-03 (Docker Build Cloud + cinc-auditor-alpine v1.0.0 Release):\n\nCOMPLETED THIS SESSION:\n✅ Fixed cinc-auditor-alpine Docker Hub repository creation\n✅ Created DOCKER_PAT and DOCKER_USER org secrets for Build Cloud\n✅ Updated release.yml workflow for Docker Build Cloud integration\n✅ Removed QEMU from release workflow (Build Cloud uses native ARM64)\n✅ Fixed step order (Login BEFORE Buildx setup)\n✅ Changed endpoint from mitre/default to mitre/mitre-builder\n✅ Fixed Dockerfile - declared TARGETARCH build arg for multi-platform\n✅ Removed redundant build-multiarch job from build-test.yml\n✅ Added proper versioned tags to docker-bake.hcl (DOCKER_HUB_REPO, VERSION variables)\n✅ Removed GHA cache from release workflow (Build Cloud has its own)\n✅ Created EPIC for complete v1.0.0 release (cinc-auditor-alpine-z53)\n✅ Created 8 beads cards for release stabilization\n✅ Set up dependency chain between cards\n\nBLOCKED - CURRENT ISSUE:\n❌ v1.0.0 release workflow FAILED with 401 Unauthorized\n❌ Error: \"access token has insufficient scopes\"\n❌ Both v6-multiarch and v7-multiarch BUILT successfully on Build Cloud\n❌ Error occurs when PUSHING to docker.io/mitre/cinc-auditor-alpine\n❌ User created token with access to ALL MITRE repos but still getting 401\n\nGIT STATUS:\n- Branch: main\n- Latest commit: 93c35f8 \"chore: initialize beads database for cinc-auditor-alpine\"\n- All changes pushed\n- No uncommitted changes\n\nDOCKER HUB STATUS:\n- Repository exists: https://hub.docker.com/r/mitre/cinc-auditor-alpine\n- Token: docker-build-cloud (created 2026-01-03 17:03:18)\n- Token stored in GitHub as DOCKER_PAT org secret\n- Token should have Image Push permission and access to all MITRE repos\n\nWORKFLOW STATUS:\n- Failed run: https://github.com/mitre/cinc-auditor-alpine/actions/runs/20683781883\n- Build succeeded on both amd64 and arm64 using Docker Build Cloud\n- Authentication succeeded for login step\n- Push to Docker Hub registry failed with 401\n\nEPIC CREATED:\nRun: bd show cinc-auditor-alpine-z53\n\nV1.0.0 Release Epic includes:\n- P0: Fix Docker Hub token (cinc-auditor-alpine-eii) - START HERE\n- P0: Create GitHub release (cinc-auditor-alpine-6ch)\n- P0: Verify Docker Hub artifacts (cinc-auditor-alpine-5wp)\n- P1: Add branch protection (cinc-auditor-alpine-b4q)\n- P1: Create RELEASE.md (cinc-auditor-alpine-yjk)\n- P1: Create CHANGELOG.md (cinc-auditor-alpine-bky)\n- P2: Add test verification to workflow (cinc-auditor-alpine-26s)\n- P2: Test complete cycle with v1.0.1 (cinc-auditor-alpine-vwy)\n\nDependencies set so cards unblock in proper order.\n\nNEXT STEPS:\n1. Run: bd ready\n2. Start with cinc-auditor-alpine-eii (Fix Docker Hub token)\n3. Verify Docker Hub token has Read \u0026 Write permission\n4. Verify repository access is correct (all repos vs specific)\n5. Recreate token if needed and update DOCKER_PAT secret\n6. Re-trigger workflow and complete v1.0.0 release\n7. Follow epic cards in order to stabilize release process\n\nWORKFLOW:\nThis project uses BEADS for task tracking. Track work in beads, close tasks when done, NOT markdown files.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-03T17:46:05.033882-05:00","created_by":"alippold","updated_at":"2026-01-03T18:05:07.87513-05:00","closed_at":"2026-01-03T18:05:07.87513-05:00","close_reason":"Recovery complete, context restored"}
{"id":"cinc-auditor-alpine-b4q","title":"Add branch protection rules on main","description":"Configure GitHub branch protection to prevent broken code from reaching main and being released.\n\nREQUIRED CHECKS:\n- lint (Hadolint)\n- build-and-test (v6)\n- build-and-test (v7)\n\nPROTECTION SETTINGS:\n- Require status checks to pass before merging\n- Require branches to be up to date before merging\n- Do not allow bypassing (enforce for admins)\n\nPREVENTS:\n- Releasing code that doesn't pass tests\n- Broken Docker images being published\n- CI/CD failures in production\n\nIMPLEMENTATION:\nUse gh CLI or GitHub web interface to configure branch protection\n\nFILES:\n- GitHub repository settings (branch protection)","acceptance_criteria":"- Branch protection enabled on main branch\n- Required status checks: lint, build-and-test (v6), build-and-test (v7)\n- Settings enforced for all contributors\n- Verified cannot merge without passing checks\n- Documented in CONTRIBUTING.md","status":"open","priority":1,"issue_type":"task","estimated_minutes":15,"created_at":"2026-01-03T17:52:55.026106-05:00","created_by":"alippold","updated_at":"2026-01-03T17:52:55.026106-05:00"}
{"id":"cinc-auditor-alpine-bky","title":"Create CHANGELOG.md documenting included versions","description":"Establish CHANGELOG.md following Keep a Changelog format to track version history.\n\nINITIAL CONTENT:\n- [1.0.0] section with Added/Changed/Fixed sections\n- Document all features in v1.0.0\n- [Unreleased] section for future changes\n- Links to version comparisons\n\nKEEPS A CHANGELOG FORMAT:\n- Versions in reverse chronological order\n- Date for each release\n- Categories: Added, Changed, Deprecated, Removed, Fixed, Security\n- SemVer links at bottom\n\nBENEFITS:\n- Users can see what changed between versions\n- Maintainers track feature additions\n- Release notes generation easier\n\nFILES:\n- CHANGELOG.md (new file)\n- README.md (add link to CHANGELOG.md)","acceptance_criteria":"- CHANGELOG.md created following Keep a Changelog format\n- [1.0.0] section complete with all features\n- [Unreleased] section added for future work\n- Version links functional\n- Link added to README.md","status":"open","priority":1,"issue_type":"task","estimated_minutes":30,"created_at":"2026-01-03T17:53:15.456998-05:00","created_by":"alippold","updated_at":"2026-01-03T19:00:59.787301-05:00"}
{"id":"cinc-auditor-alpine-eii","title":"Fix Docker Hub token permissions (401 unauthorized)","description":"BLOCKER: v1.0.0 release workflow fails with 401 Unauthorized when pushing to Docker Hub.\n\nSYMPTOMS:\n- Workflow run: https://github.com/mitre/cinc-auditor-alpine/actions/runs/20683781883\n- Both v6-multiarch and v7-multiarch built successfully on Docker Build Cloud\n- Error occurs during PUSH to docker.io/mitre/cinc-auditor-alpine\n- Error: \"access token has insufficient scopes\"\n\nCURRENT STATE:\n- Token: docker-build-cloud (created 2026-01-03 17:03:18)\n- Stored in GitHub as DOCKER_PAT org secret\n- Repository exists: https://hub.docker.com/r/mitre/cinc-auditor-alpine\n- User confirmed token has access to ALL MITRE repos\n\nROOT CAUSE UNKNOWN:\nNeed to verify actual token permissions in Docker Hub dashboard\n\nFILES:\n- .github/workflows/release.yml (uses DOCKER_PAT)\n- GitHub org secrets: DOCKER_PAT, DOCKER_USER","acceptance_criteria":"- Docker Hub token verified with Read \u0026 Write (Image Push) permission\n- Token repository access confirmed (all repos or specific repo)\n- DOCKER_PAT secret updated in GitHub if token recreated\n- Workflow runs successfully without 401 error\n- Images pushed to Docker Hub registry","status":"closed","priority":0,"issue_type":"bug","estimated_minutes":30,"created_at":"2026-01-03T17:52:21.803165-05:00","created_by":"alippold","updated_at":"2026-01-03T18:10:23.768257-05:00","closed_at":"2026-01-03T18:10:23.768257-05:00","close_reason":"Fixed - images pushed successfully to Docker Hub with multi-arch support"}
{"id":"cinc-auditor-alpine-vwy","title":"Test complete workflow with new CINC release","description":"After v1.0.0 is complete, test the entire release process with a v1.0.1 patch release.\n\nPURPOSE:\nVerify that documented release process works and can be followed by future maintainers\n\nTEST CYCLE:\n1. Make a small change (update README, fix typo, etc.)\n2. Follow RELEASE.md process exactly\n3. Update CHANGELOG.md with [1.0.1] entry\n4. Create v1.0.1 tag and release\n5. Verify workflow runs successfully\n6. Verify images pushed to Docker Hub\n7. Test images work correctly\n8. Document any process improvements needed\n\nVALIDATES:\n- RELEASE.md is accurate and complete\n- Release workflow works correctly\n- CHANGELOG.md process is clear\n- SemVer versioning works\n- Multi-arch images build and publish\n\nDEPENDS ON:\n- All P0 and P1 cards completed\n- v1.0.0 fully released\n\nFILES:\n- RELEASE.md (may need updates)\n- CHANGELOG.md\n- Any small code/doc change for patch","acceptance_criteria":"- Small change committed to trigger patch release\n- RELEASE.md process followed exactly\n- v1.0.1 release created successfully\n- Images published to Docker Hub\n- Images tested and working\n- Any process gaps documented\n- RELEASE.md updated if needed","status":"open","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2026-01-03T17:53:41.636934-05:00","created_by":"alippold","updated_at":"2026-01-03T19:01:02.878543-05:00","dependencies":[{"issue_id":"cinc-auditor-alpine-vwy","depends_on_id":"cinc-auditor-alpine-b4q","type":"blocks","created_at":"2026-01-03T17:53:55.660543-05:00","created_by":"daemon"},{"issue_id":"cinc-auditor-alpine-vwy","depends_on_id":"cinc-auditor-alpine-yjk","type":"blocks","created_at":"2026-01-03T17:53:55.721953-05:00","created_by":"daemon"},{"issue_id":"cinc-auditor-alpine-vwy","depends_on_id":"cinc-auditor-alpine-bky","type":"blocks","created_at":"2026-01-03T17:53:55.789453-05:00","created_by":"daemon"},{"issue_id":"cinc-auditor-alpine-vwy","depends_on_id":"cinc-auditor-alpine-26s","type":"blocks","created_at":"2026-01-03T17:53:55.853845-05:00","created_by":"daemon"}]}
{"id":"cinc-auditor-alpine-yjk","title":"Create RELEASE.md with upstream version tagging process","description":"Document the release process for future maintainers to follow when creating new releases.\n\nCONTENT SECTIONS:\n1. Prerequisites (tests passing, no critical bugs, CHANGELOG updated)\n2. Step-by-step release process\n3. SemVer versioning guidelines (MAJOR.MINOR.PATCH)\n4. Verification steps\n5. Rollback procedure if needed\n6. Troubleshooting common issues\n\nAUDIENCE:\n- Future maintainers\n- Contributors who want to understand release process\n- CI/CD documentation\n\nEXAMPLES:\nInclude examples of:\n- Creating tags\n- Writing release notes\n- Version bumping\n\nFILES:\n- RELEASE.md (new file)\n- README.md (add link to RELEASE.md)","acceptance_criteria":"- RELEASE.md created in repository root\n- Contains complete step-by-step process\n- SemVer guidelines documented\n- Examples provided for common tasks\n- Link added to README.md\n- Reviewed and approved","status":"open","priority":1,"issue_type":"task","estimated_minutes":45,"created_at":"2026-01-03T17:53:04.969869-05:00","created_by":"alippold","updated_at":"2026-01-03T19:00:56.622738-05:00"}
{"id":"cinc-auditor-alpine-z53","title":"EPIC: v1.0.0 Stable Release - Complete CI/CD and Release Process","description":"Complete all work required for a proper v1.0.0 stable release with automated CI/CD and documented release process.\n\nSCOPE:\n1. Fix current Docker Hub token blocker\n2. Complete first successful multi-arch release\n3. Establish proper SemVer release process\n4. Add CI/CD safeguards (branch protection, required checks)\n5. Document release process for future releases\n6. Verify and test complete release cycle\n\nSUCCESS CRITERIA:\n- v1.0.0 images published to Docker Hub (all architectures)\n- Branch protection prevents broken releases\n- Release process documented in RELEASE.md\n- CHANGELOG.md established\n- Future releases can be done following documented process\n- All artifacts verified and tested\n\nCOMPONENTS:\n- GitHub Actions workflows\n- Docker Hub integration\n- Branch protection rules\n- Documentation (RELEASE.md, CHANGELOG.md)\n- Testing and verification\n\nTIMELINE:\nThis epic must be completed before considering v1.0.0 \"done\"","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-03T17:52:07.401732-05:00","created_by":"alippold","updated_at":"2026-01-03T19:00:53.374457-05:00","closed_at":"2026-01-03T19:00:53.374457-05:00","close_reason":"Abandoned v1.0.0 container versioning - using upstream CINC versions as tags instead (industry standard)"}
